<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Create Leave Form</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../../css/style.css" th:href="@{/css/style.css}" />

</head>
<body>
<h1>Leave Application</h1>
<form action="#" th:object="${leave}" th:action="@{/leave/save}" method="post" >

		<fieldset>
			Start Date: <input type="date" th:field="*{startDate}" id="sd">	
			End Date: <input type="date" id="ed" oninput="getDuration()" th:name="endDate">
			Duration:<p id="duration"></p>
		</fieldset>
		
		Type of Leave:
					<select th:field= "*{leaveTypes}">
					<option th:each = "leaveType : ${fakeleaveType}" 
						th:value = "${leaveType}" th:text = "${leaveType}"> </option> 
					</select>
<!-- 
		Type of Leave:
					<select th:field = "${leaveTypes}">
					<option th:each = "leaveType : ${leaveTypes}" 
						th:value = "${leaveType.id}" th:text = "${leaveType.leaveName}"> </option> 
					</select>
 -->
		<p>Leave Balance: <span th:text="${balance}"></span></p>
		<fieldset>
			Leave Reason: <textarea rows="5" th:field="*{description}"></textarea>
		</fieldset>
		
		<label>Work Dissemination (if any)</label>
		<input type="text" th:field="*{workDissemination}"/>  
		<label>Emergency Contact (if any)</label>
		<input type="text" th:field="*{contactDetails}"/>  
		<button type="submit">Save</button>
		<a>Cancel</a>
	</form>
	
<script>
function getDuration() {
	var sd = new Date(document.getElementById("sd").value);
	var ed = new Date(document.getElementById("ed").value);
	var time= ed.getTime() - sd.getTime();
	var duration = time /(1000*24*3600);
  	document.getElementById("duration").innerHTML = duration;
}
</script>	
	
	
	
</body>
</html>